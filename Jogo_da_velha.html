<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Velha</title>
</head>
<body>
    
    <h1 class='titulo'>
        Jogo Da Velha
    </h1>
  
    <div class='pai'>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
    </div>

    <p id='texto'></p>

    <div class="botao">
        <button id="reset">Reiniciar o jogo</button>
    </div>
    
    <style>

        body{
          background-color: black;
        }
        .pai{
            display: flex;
           flex-wrap: wrap;
           width: 306px;
           margin: auto;
        }

        .boxes{
            width: 100px;
            height: 100px;
            border: 1px solid white;
            text-align: center;
            font-size: 100px;
            color: white;
        }

        .titulo{
            text-align: center;
            color: white;
        }

        #texto{
            text-align: center;
            font-size: 30px;
            color: white;
        }

        .botao{
            text-align: center;
        }
    </style>
    <script>
        let jogo = ['','','','','','','','']
        let texto = document.getElementById('texto')
        let contador = 0
        let boxes = document.getElementsByClassName('boxes')
        let jogadorAtual = 'X'

        reset.addEventListener('click', function () {
            for (let i = 0; i < boxes.length; i++) {
                boxes[i].innerHTML = ''
                contador = 0
                jogadorAtual = 'X'
                jogo = [i]
                if (texto.innerHTML === 'O jogador X ganhou' || texto.innerHTML === 'O jogador O ganhou' || texto.innerHTML === 'Empatou') {
                    texto.innerHTML = ''
                } 
            }
        })

        for (let i = 0; i < boxes.length; i++) {
            let box = boxes[i];

            box.addEventListener('click', function () {
                if (box.innerHTML === '') {
                    if (texto.innerHTML === '') {
                        box.innerHTML = jogadorAtual
                    jogo[i] = jogadorAtual
                    let alguemGanhou = checarVencedor()
                    if (!alguemGanhou) {
                        empate()
                    }      
                    }
                    trocarTurno()
                }
                contador++
            })    
        }

        function empate() {
            if ((contador === 8)) {
                texto.innerHTML = 'Empatou'
            }
        }

        function trocarTurno () {
            if (jogadorAtual === 'X') {
                jogadorAtual = 'O'
                jogador.innerHTML = 'Vez do jogador O'
            } else {
                jogadorAtual = 'X'
                jogador.innerHTML = 'Vez do jogador X'
            }
        }

        function mesnsagemVencedor() {
            texto.innerHTML = 'O jogador ' + jogadorAtual + ' ganhou'
        }

        function checarVencedor() {
            if (jogo[0] === jogadorAtual && jogo[1] === jogadorAtual && jogo[2] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[3] === jogadorAtual && jogo[4] === jogadorAtual && jogo[5] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[6] === jogadorAtual && jogo[7] === jogadorAtual && jogo[8] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[0] === jogadorAtual && jogo[3] === jogadorAtual && jogo[6] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[1] === jogadorAtual && jogo[4] === jogadorAtual && jogo[7] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[2] === jogadorAtual && jogo[5] === jogadorAtual && jogo[8] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[0] === jogadorAtual && jogo[4] === jogadorAtual && jogo[8] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            } if (jogo[2] === jogadorAtual && jogo[4] === jogadorAtual && jogo[6] === jogadorAtual) {
                mesnsagemVencedor()
                return true

            }
        }

    </script>
</body>
</html>