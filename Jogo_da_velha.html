<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Velha</title>
</head>
<body>
    
    <h1 class='titulo'>
        Jogo Da Velha
    </h1>

    <p id="jogador"></p>
  
    <div class='pai'>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
        <div class='boxes'></div>
    </div>

    <p id='texto'></p>

    <style>

        body{
          background-color: black;
        }
        .pai{
            display: flex;
           flex-wrap: wrap;
           width: 306px;
           margin: auto;
        }

        .boxes{
            width: 100px;
            height: 100px;
            border: 1px solid white;
            text-align: center;
            font-size: 100px;
            color: white;
        }

        .titulo{
            text-align: center;
            color: white;
        }

        #texto{
            text-align: center;
            font-size: 30px;
            color: white;
        }

        #jogador{
            text-align: center;
            font-size: 25px;
            color: white;
        }
    </style>
    <script>
        let jogo = ['','','','','','','','']
        let texto = document.getElementById('texto')
        let jogador = document.getElementById('jogador')
        let contador = 0
        let boxes = document.getElementsByClassName('boxes')
        let jogadorAtual = 'X'

        jogador.innerHTML = 'Vez do jogador X'
        
        for (let i = 0; i < boxes.length; i++) {
            let box = boxes[i];

            box.addEventListener('click', function () {
                if (box.innerHTML === '') {
                    box.innerHTML = jogadorAtual
                    jogo[i] = jogadorAtual
                    let alguemGanhou = checarVencedor()
                    trocarTurno()
                    if (!alguemGanhou) {
                        empate()
                    }
                }
                contador++
                console.log(contador);
            })    
        }

        function empate() {
            if ((contador === 8)) {
                texto.innerHTML = 'Empatou'
            }
        }

        function trocarTurno () {
            if (jogadorAtual === 'X') {
                jogadorAtual = 'O'
                jogador.innerHTML = 'Vez do jogador O'
            } else {
                jogadorAtual = 'X'
                jogador.innerHTML = 'Vez do jogador X'
            }
        }

        function checarVencedor() {
            if (jogo[0] === 'X' && jogo[1] === 'X' && jogo[2] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[0] === 'O' && jogo[1] === 'O' && jogo[2] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[3] === 'X' && jogo[4] === 'X' && jogo[5] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[3] === 'O' && jogo[4] === 'O' && jogo[5] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[6] === 'X' && jogo[7] === 'X' && jogo[8] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[6] === 'O' && jogo[7] === 'O' && jogo[8] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[0] === 'X' && jogo[3] === 'X' && jogo[6] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[0] === 'O' && jogo[3] === 'O' && jogo[6] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[1] === 'X' && jogo[4] === 'X' && jogo[7] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[1] === 'O' && jogo[4] === 'O' && jogo[7] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[2] === 'X' && jogo[5] === 'X' && jogo[8] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[2] === 'O' && jogo[5] === 'O' && jogo[8] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[0] === 'X' && jogo[4] === 'X' && jogo[8] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[0] === 'O' && jogo[4] === 'O' && jogo[8] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true

            } if (jogo[2] === 'X' && jogo[4] === 'X' && jogo[6] === 'X') {
                texto.innerHTML = 'O jogador X ganhou'
                return true

            } if (jogo[2] === 'O' && jogo[4] === 'O' && jogo[6] === 'O') {
                texto.innerHTML = 'O jogador O ganhou'
                return true
 
            }
        }

    </script>
</body>
</html>